<!DOCTYPE HTML>
<html>
	<head>
	</head>
	
	<body>
		<p>This is my HW5</p>
		<table>
			<tr>
				<td>
					<canvas id="canvas1" width=300 height=300 style="border:1px solid #d3d3d3;"></canvas>
				</td>
				<td>
					<table>
						<tr>
							<td>
								<canvas id="canvas2" width=300 height=16 ></canvas>
							</td>
						</tr>
						<tr>
							<td>
								<canvas id="canvas3" width=300 height=16 ></canvas>
							</td>
						</tr>
						<tr>
							<td>
								<canvas id="canvas4" width=300 height=16 ></canvas>
							</td>
						</tr>
					</table>
				</td>
			</tr>

		</table>
	</body>
	<script src=drawlib1.js></script>
	<script>
		var xTheta;
		var yTheta;
		var zTheta;

		function Point(x,y,z){
			this.x = x;
			this.y = y;
			this.z = z;

			this.identity = function(){
				m = [[1, 0, 0],
					 [0, 1, 0],
					 [0, 0, 1]];
				var x = this.x;
			    var y = this.y;
			    var z = this.z;
				this.x = m[0][0]*x + m[0][1]*y + m[0][2]*z;
				this.y = m[1][0]*x + m[1][1]*y + m[1][2]*z;
				this.z = m[2][0]*x + m[2][1]*y + m[2][2]*z;
			}

			this.translate = function(x, y, z) {
				this.x += x;
				this.y += y;
				this.z += z;
			};

			this.rotateX = function(theta){
				m = [[1, 0, 0],
					 [0, Math.sin(theta), Math.cos(theta)],
					 [0, -Math.cos(theta), Math.sin(theta)]];
				var x = this.x;
			    var y = this.y;
			    var z = this.z;
				this.x = m[0][0]*x + m[0][1]*y + m[0][2]*z;
				this.y = m[1][0]*x + m[1][1]*y + m[1][2]*z;
				this.z = m[2][0]*x + m[2][1]*y + m[2][2]*z;
			};
			this.rotateY = function(theta){
				m = [[Math.cos(theta), 0, Math.sin(theta)],
					 [0, 1, 0],
					 [-Math.sin(theta), 0, Math.cos(theta)]];
				var x = this.x;
			    var y = this.y;
			    var z = this.z;
				this.x = m[0][0]*x + m[0][1]*y + m[0][2]*z;
				this.y = m[1][0]*x + m[1][1]*y + m[1][2]*z;
				this.z = m[2][0]*x + m[2][1]*y + m[2][2]*z;
			};
			this.rotateZ = function(theta){
				m = [[Math.sin(theta), Math.cos(theta), 0],
					 [-Math.cos(theta), Math.sin(theta), 0],
					 [0, 0, 1]];
			    var x = this.x;
			    var y = this.y;
			    var z = this.z;
				this.x = m[0][0]*x + m[0][1]*y + m[0][2]*z;
				this.y = m[1][0]*x + m[1][1]*y + m[1][2]*z;
				this.z = m[2][0]*x + m[2][1]*y + m[2][2]*z;
			};


			
			this.scale = function(x, y, z){
				m = [[x, 0, 0],
					 [0, y, 0],
					 [0, 0, z]];
				var x = this.x;
			    var y = this.y;
			    var z = this.z;
				this.x = m[0][0]*x + m[0][1]*y + m[0][2]*z;
				this.y = m[1][0]*x + m[1][1]*y + m[1][2]*z;
				this.z = m[2][0]*x + m[2][1]*y + m[2][2]*z;
			};
			
		}

		var width = 300;
		var height = 300;
		function tranx(x){
			return width/2 + x*(width/2);
		}
		function trany(y){
			return height/2 - y*(width/2);
		}

		var canvas = initCanvas("canvas1");
		canvas.update = function(ctx){
			var points = [];
			points[0] = new Point(-0.5, -0.5, -0.5);
			points[1] = new Point(0.5, -0.5, -0.5);
			points[2] = new Point(0.5, 0.5, -0.5);
			points[3] = new Point(-0.5, 0.5, -0.5);
			points[4] = new Point(-0.5, -0.5, 0.5);
			points[5] = new Point(0.5, -0.5, 0.5);
			points[6] = new Point(0.5, 0.5, 0.5);
			points[7] = new Point(-0.5, 0.5, 0.5);
			for (var i=0; i<8; i++){
				//points[i].translate(0.2,0.3,0.4);
				points[i].rotateX(xTheta);
				points[i].rotateY(yTheta);
				points[i].rotateZ(zTheta);
				//points[i].translate(0.8,0.3,0.4);
				points[i].scale(1, 1, 1);
				//console.log(points[i].x, points[i].y);
				//translate to px
				points[i].x = tranx(points[i].x);
				points[i].y = trany(points[i].y);
			}

			ctx.strokeStyle = 'red';
			ctx.beginPath();
			ctx.moveTo(points[0].x, points[0].y);
			ctx.lineTo(points[1].x, points[1].y);
			ctx.lineTo(points[2].x, points[2].y);
			ctx.lineTo(points[3].x, points[3].y);
			ctx.lineTo(points[0].x, points[0].y);

			ctx.moveTo(points[4].x, points[4].y);
			ctx.lineTo(points[5].x, points[5].y);
			ctx.lineTo(points[6].x, points[6].y);
			ctx.lineTo(points[7].x, points[7].y);
			ctx.lineTo(points[4].x, points[4].y);

			ctx.moveTo(points[0].x, points[0].y);
			ctx.lineTo(points[4].x, points[4].y);

			ctx.moveTo(points[1].x, points[1].y);
			ctx.lineTo(points[5].x, points[5].y);

			ctx.moveTo(points[2].x, points[2].y);
			ctx.lineTo(points[6].x, points[6].y);

			ctx.moveTo(points[3].x, points[3].y);
			ctx.lineTo(points[7].x, points[7].y);
			ctx.stroke();
			//console.log("hello");

		}

		var canvas = initCanvas("canvas2");
		canvas.update = function(ctx){
			ctx.strokeStyle = 'red';
			ctx.beginPath();
			ctx.moveTo(10, 8);
			ctx.lineTo(290, 8);
			ctx.stroke();

			ctx.beginPath();
			ctx.arc(this.cursor.x, 8, 5, 0, 2 * Math.PI);
			xTheta = this.cursor.x/20;
			//console.log(this.cursor.x);
			ctx.stroke();
			ctx.fillStyle="red";
			ctx.fill();
			
		}

		var canvas = initCanvas("canvas3");
		canvas.update = function(ctx){
			ctx.strokeStyle = 'red';
			ctx.beginPath();
			ctx.moveTo(10, 8);
			ctx.lineTo(290, 8);
			ctx.stroke();

			ctx.beginPath();
			ctx.arc(this.cursor.x, 8, 5, 0, 2 * Math.PI);
			yTheta = this.cursor.x/20;
			//console.log(this.cursor.x);
			ctx.stroke();
			ctx.fillStyle="red";
			ctx.fill();	
		}

		var canvas = initCanvas("canvas4");
		canvas.update = function(ctx){
			ctx.strokeStyle = 'red';
			ctx.beginPath();
			ctx.moveTo(10, 8);
			ctx.lineTo(290, 8);
			ctx.stroke();

			ctx.beginPath();
			ctx.arc(this.cursor.x, 8, 5, 0, 2 * Math.PI);
			zTheta = this.cursor.x/20;
			//console.log(this.cursor.x);
			ctx.stroke();
			ctx.fillStyle="red";
			ctx.fill();	
		}



	</script>

</html>
